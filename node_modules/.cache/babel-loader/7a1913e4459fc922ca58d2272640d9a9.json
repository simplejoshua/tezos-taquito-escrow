{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"destroyPopupOnHide\", \"popup\", \"popupClassName\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"popupTransitionName\", \"popupAnimation\", \"maskTransitionName\", \"maskAnimation\", \"className\", \"getTriggerDOMNode\"];\nimport Portal from '@rc-component/portal';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { isDOM } from \"rc-util/es/Dom/findDOMNode\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport TriggerContext from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useWatch from \"./hooks/useWatch\";\nimport Popup from \"./Popup\";\nimport TriggerWrapper from \"./TriggerWrapper\";\nimport { getAlignPopupClassName, getMotion, getWin } from \"./util\";\nexport function generateTrigger() {\n  var PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  var Trigger = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$prefixCls = props.prefixCls,\n        prefixCls = _props$prefixCls === void 0 ? 'rc-trigger-popup' : _props$prefixCls,\n        children = props.children,\n        _props$action = props.action,\n        action = _props$action === void 0 ? 'hover' : _props$action,\n        showAction = props.showAction,\n        hideAction = props.hideAction,\n        popupVisible = props.popupVisible,\n        defaultPopupVisible = props.defaultPopupVisible,\n        onPopupVisibleChange = props.onPopupVisibleChange,\n        afterPopupVisibleChange = props.afterPopupVisibleChange,\n        mouseEnterDelay = props.mouseEnterDelay,\n        _props$mouseLeaveDela = props.mouseLeaveDelay,\n        mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n        focusDelay = props.focusDelay,\n        blurDelay = props.blurDelay,\n        mask = props.mask,\n        _props$maskClosable = props.maskClosable,\n        maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n        getPopupContainer = props.getPopupContainer,\n        forceRender = props.forceRender,\n        autoDestroy = props.autoDestroy,\n        destroyPopupOnHide = props.destroyPopupOnHide,\n        popup = props.popup,\n        popupClassName = props.popupClassName,\n        popupStyle = props.popupStyle,\n        popupPlacement = props.popupPlacement,\n        _props$builtinPlaceme = props.builtinPlacements,\n        builtinPlacements = _props$builtinPlaceme === void 0 ? {} : _props$builtinPlaceme,\n        popupAlign = props.popupAlign,\n        zIndex = props.zIndex,\n        stretch = props.stretch,\n        getPopupClassNameFromAlign = props.getPopupClassNameFromAlign,\n        alignPoint = props.alignPoint,\n        onPopupClick = props.onPopupClick,\n        onPopupAlign = props.onPopupAlign,\n        arrow = props.arrow,\n        popupMotion = props.popupMotion,\n        maskMotion = props.maskMotion,\n        popupTransitionName = props.popupTransitionName,\n        popupAnimation = props.popupAnimation,\n        maskTransitionName = props.maskTransitionName,\n        maskAnimation = props.maskAnimation,\n        className = props.className,\n        getTriggerDOMNode = props.getTriggerDOMNode,\n        restProps = _objectWithoutProperties(props, _excluded);\n\n    var mergedAutoDestroy = autoDestroy || destroyPopupOnHide || false; // =========================== Mobile ===========================\n\n    var _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        mobile = _React$useState2[0],\n        setMobile = _React$useState2[1];\n\n    useLayoutEffect(function () {\n      setMobile(isMobile());\n    }, []); // ========================== Context ===========================\n\n    var subPopupElements = React.useRef({});\n    var parentContext = React.useContext(TriggerContext);\n    var context = React.useMemo(function () {\n      return {\n        registerSubPopup: function registerSubPopup(id, subPopupEle) {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]); // =========================== Popup ============================\n\n    var id = useId();\n\n    var _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        popupEle = _React$useState4[0],\n        setPopupEle = _React$useState4[1];\n\n    var setPopupRef = useEvent(function (node) {\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n\n      parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, node);\n    }); // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n\n    var _React$useState5 = React.useState(null),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        targetEle = _React$useState6[0],\n        setTargetEle = _React$useState6[1];\n\n    var setTargetRef = useEvent(function (node) {\n      if (isDOM(node) && targetEle !== node) {\n        setTargetEle(node);\n      }\n    }); // ========================== Children ==========================\n\n    var child = React.Children.only(children);\n    var originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n    var cloneProps = {};\n    var inPopupOrChild = useEvent(function (ele) {\n      var _childDOM$getRootNode, _popupEle$getRootNode;\n\n      var childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || (childDOM === null || childDOM === void 0 ? void 0 : (_childDOM$getRootNode = childDOM.getRootNode()) === null || _childDOM$getRootNode === void 0 ? void 0 : _childDOM$getRootNode.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || (popupEle === null || popupEle === void 0 ? void 0 : (_popupEle$getRootNode = popupEle.getRootNode()) === null || _popupEle$getRootNode === void 0 ? void 0 : _popupEle$getRootNode.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(function (subPopupEle) {\n        return (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle;\n      });\n    }); // =========================== Motion ===========================\n\n    var mergePopupMotion = getMotion(prefixCls, popupMotion, popupAnimation, popupTransitionName);\n    var mergeMaskMotion = getMotion(prefixCls, maskMotion, maskAnimation, maskTransitionName); // ============================ Open ============================\n\n    var _React$useState7 = React.useState(defaultPopupVisible || false),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        internalOpen = _React$useState8[0],\n        setInternalOpen = _React$useState8[1]; // Render still use props as first priority\n\n\n    var mergedOpen = popupVisible !== null && popupVisible !== void 0 ? popupVisible : internalOpen; // We use effect sync here in case `popupVisible` back to `undefined`\n\n    var setMergedOpen = useEvent(function (nextOpen) {\n      if (popupVisible === undefined) {\n        setInternalOpen(nextOpen);\n      }\n    });\n    useLayoutEffect(function () {\n      setInternalOpen(popupVisible || false);\n    }, [popupVisible]);\n    var openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    var internalTriggerOpen = useEvent(function (nextOpen) {\n      if (mergedOpen !== nextOpen) {\n        setMergedOpen(nextOpen);\n        onPopupVisibleChange === null || onPopupVisibleChange === void 0 ? void 0 : onPopupVisibleChange(nextOpen);\n      }\n    }); // Trigger for delay\n\n    var delayRef = React.useRef();\n\n    var clearDelay = function clearDelay() {\n      clearTimeout(delayRef.current);\n    };\n\n    var triggerOpen = function triggerOpen(nextOpen) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      clearDelay();\n\n      if (delay === 0) {\n        internalTriggerOpen(nextOpen);\n      } else {\n        delayRef.current = setTimeout(function () {\n          internalTriggerOpen(nextOpen);\n        }, delay * 1000);\n      }\n    };\n\n    React.useEffect(function () {\n      return clearDelay;\n    }, []); // ========================== Motion ============================\n\n    var _React$useState9 = React.useState(false),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        inMotion = _React$useState10[0],\n        setInMotion = _React$useState10[1];\n\n    var mountRef = React.useRef(true);\n    useLayoutEffect(function () {\n      if (!mountRef.current || mergedOpen) {\n        setInMotion(true);\n      }\n\n      mountRef.current = true;\n    }, [mergedOpen]);\n\n    var _React$useState11 = React.useState(null),\n        _React$useState12 = _slicedToArray(_React$useState11, 2),\n        motionPrepareResolve = _React$useState12[0],\n        setMotionPrepareResolve = _React$useState12[1]; // =========================== Align ============================\n\n\n    var _React$useState13 = React.useState([0, 0]),\n        _React$useState14 = _slicedToArray(_React$useState13, 2),\n        mousePos = _React$useState14[0],\n        setMousePos = _React$useState14[1];\n\n    var setMousePosByEvent = function setMousePosByEvent(event) {\n      setMousePos([event.clientX, event.clientY]);\n    };\n\n    var _useAlign = useAlign(mergedOpen, popupEle, alignPoint ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign),\n        _useAlign2 = _slicedToArray(_useAlign, 9),\n        ready = _useAlign2[0],\n        offsetX = _useAlign2[1],\n        offsetY = _useAlign2[2],\n        arrowX = _useAlign2[3],\n        arrowY = _useAlign2[4],\n        scaleX = _useAlign2[5],\n        scaleY = _useAlign2[6],\n        alignInfo = _useAlign2[7],\n        onAlign = _useAlign2[8];\n\n    var triggerAlign = useEvent(function () {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign);\n    useLayoutEffect(function () {\n      triggerAlign();\n    }, [mousePos]); // When no builtinPlacements and popupAlign changed\n\n    useLayoutEffect(function () {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    var alignedClassName = React.useMemo(function () {\n      var baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return classNames(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n    React.useImperativeHandle(ref, function () {\n      return {\n        forceAlign: triggerAlign\n      };\n    }); // ========================== Motion ============================\n\n    var onVisibleChanged = function onVisibleChanged(visible) {\n      setInMotion(false);\n      onAlign();\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 ? void 0 : afterPopupVisibleChange(visible);\n    }; // We will trigger align when motion is in prepare\n\n\n    var onPrepare = function onPrepare() {\n      return new Promise(function (resolve) {\n        setMotionPrepareResolve(function () {\n          return resolve;\n        });\n      });\n    };\n\n    useLayoutEffect(function () {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]); // ========================== Stretch ===========================\n\n    var _React$useState15 = React.useState(0),\n        _React$useState16 = _slicedToArray(_React$useState15, 2),\n        targetWidth = _React$useState16[0],\n        setTargetWidth = _React$useState16[1];\n\n    var _React$useState17 = React.useState(0),\n        _React$useState18 = _slicedToArray(_React$useState17, 2),\n        targetHeight = _React$useState18[0],\n        setTargetHeight = _React$useState18[1];\n\n    var onTargetResize = function onTargetResize(_, ele) {\n      triggerAlign();\n\n      if (stretch) {\n        var rect = ele.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    }; // =========================== Action ===========================\n\n\n    var _useAction = useAction(mobile, action, showAction, hideAction),\n        _useAction2 = _slicedToArray(_useAction, 2),\n        showActions = _useAction2[0],\n        hideActions = _useAction2[1]; // Util wrapper for trigger action\n\n\n    var wrapperAction = function wrapperAction(eventName, nextOpen, delay, preEvent) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n\n        preEvent === null || preEvent === void 0 ? void 0 : preEvent(event);\n        triggerOpen(nextOpen, delay); // Pass to origin\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 ? void 0 : _originChildProps$eve.call.apply(_originChildProps$eve, [originChildProps, event].concat(args));\n      };\n    }; // ======================= Action: Click ========================\n\n\n    var clickToShow = showActions.has('click');\n    var clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        } // Pass to origin\n\n\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 ? void 0 : _originChildProps$onC.call.apply(_originChildProps$onC, [originChildProps, event].concat(args));\n      };\n    } // Click to hide is special action since click popup element should not hide\n\n\n    React.useEffect(function () {\n      if (clickToHide && popupEle && (!mask || maskClosable)) {\n        var onWindowClick = function onWindowClick(_ref) {\n          var target = _ref.target;\n\n          if (openRef.current && !inPopupOrChild(target)) {\n            triggerOpen(false);\n          }\n        };\n\n        var win = getWin(popupEle);\n        var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n        win.addEventListener('click', onWindowClick); // shadow root\n\n        var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n\n        if (inShadow) {\n          targetRoot.addEventListener('click', onWindowClick);\n        } // Warning if target and popup not in same root\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          var popupRoot = popupEle.getRootNode();\n          warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n        }\n\n        return function () {\n          win.removeEventListener('click', onWindowClick);\n\n          if (inShadow) {\n            targetRoot.removeEventListener('click', onWindowClick);\n          }\n        };\n      }\n    }, [clickToHide, targetEle, popupEle, mask, maskClosable]); // ======================= Action: Hover ========================\n\n    var hoverToShow = showActions.has('hover');\n    var hoverToHide = hideActions.has('hover');\n    var onPopupMouseEnter;\n    var onPopupMouseLeave;\n\n    if (hoverToShow) {\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n\n      onPopupMouseEnter = function onPopupMouseEnter() {\n        triggerOpen(true, mouseEnterDelay);\n      }; // Align Point\n\n\n      if (alignPoint) {\n        cloneProps.onMouseMove = function (event) {\n          var _originChildProps$onM; // setMousePosByEvent(event);\n\n\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 ? void 0 : _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay);\n\n      onPopupMouseLeave = function onPopupMouseLeave() {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    } // ======================= Action: Focus ========================\n\n\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    } // ==================== Action: ContextMenu =====================\n\n\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n\n        setMousePosByEvent(event);\n        triggerOpen(true);\n        event.preventDefault(); // Pass to origin\n\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 ? void 0 : _originChildProps$onC2.call.apply(_originChildProps$onC2, [originChildProps, event].concat(args));\n      };\n    } // ========================= ClassName ==========================\n\n\n    if (className) {\n      cloneProps.className = classNames(originChildProps.className, className);\n    } // =========================== Render ===========================\n\n\n    var mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps); // Pass props into cloneProps for nest usage\n\n\n    var passedProps = {};\n    var passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(function (eventName) {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 ? void 0 : _mergedChildrenProps$.call.apply(_mergedChildrenProps$, [mergedChildrenProps].concat(args));\n          restProps[eventName].apply(restProps, args);\n        };\n      }\n    }); // Child Node\n\n    var triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, mergedChildrenProps), passedProps)); // Render\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ResizeObserver, {\n      disabled: !mergedOpen,\n      ref: setTargetRef,\n      onResize: onTargetResize\n    }, /*#__PURE__*/React.createElement(TriggerWrapper, {\n      getTriggerDOMNode: getTriggerDOMNode\n    }, triggerNode)), /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: classNames(popupClassName, alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave,\n      zIndex: zIndex // Open\n      ,\n      open: mergedOpen,\n      keepDom: inMotion // Click\n      ,\n      onClick: onPopupClick // Mask\n      ,\n      mask: mask // Motion\n      ,\n      motion: mergePopupMotion,\n      maskMotion: mergeMaskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare // Portal\n      ,\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer // Arrow\n      ,\n      align: alignInfo,\n      arrow: arrow // Align\n      ,\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      arrowX: arrowX,\n      arrowY: arrowY,\n      onAlign: triggerAlign // Stretch\n      ,\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n    })));\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n\n  return Trigger;\n}\nexport default generateTrigger(Portal);","map":{"version":3,"names":["_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","Portal","classNames","ResizeObserver","isDOM","useEvent","useId","useLayoutEffect","isMobile","warning","React","TriggerContext","useAction","useAlign","useWatch","Popup","TriggerWrapper","getAlignPopupClassName","getMotion","getWin","generateTrigger","PortalComponent","arguments","length","undefined","Trigger","forwardRef","props","ref","_props$prefixCls","prefixCls","children","_props$action","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","_props$mouseLeaveDela","mouseLeaveDelay","focusDelay","blurDelay","mask","_props$maskClosable","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","_props$builtinPlaceme","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode","restProps","mergedAutoDestroy","_React$useState","useState","_React$useState2","mobile","setMobile","subPopupElements","useRef","parentContext","useContext","context","useMemo","registerSubPopup","id","subPopupEle","current","_React$useState3","_React$useState4","popupEle","setPopupEle","setPopupRef","node","_React$useState5","_React$useState6","targetEle","setTargetEle","setTargetRef","child","Children","only","originChildProps","cloneProps","inPopupOrChild","ele","_childDOM$getRootNode","_popupEle$getRootNode","childDOM","contains","getRootNode","host","Object","values","some","mergePopupMotion","mergeMaskMotion","_React$useState7","_React$useState8","internalOpen","setInternalOpen","mergedOpen","setMergedOpen","nextOpen","openRef","internalTriggerOpen","delayRef","clearDelay","clearTimeout","triggerOpen","delay","setTimeout","useEffect","_React$useState9","_React$useState10","inMotion","setInMotion","mountRef","_React$useState11","_React$useState12","motionPrepareResolve","setMotionPrepareResolve","_React$useState13","_React$useState14","mousePos","setMousePos","setMousePosByEvent","event","clientX","clientY","_useAlign","_useAlign2","ready","offsetX","offsetY","arrowX","arrowY","scaleX","scaleY","alignInfo","onAlign","triggerAlign","JSON","stringify","alignedClassName","baseClassName","useImperativeHandle","forceAlign","onVisibleChanged","visible","onPrepare","Promise","resolve","_React$useState15","_React$useState16","targetWidth","setTargetWidth","_React$useState17","_React$useState18","targetHeight","setTargetHeight","onTargetResize","_","rect","getBoundingClientRect","width","height","_useAction","_useAction2","showActions","hideActions","wrapperAction","eventName","preEvent","_originChildProps$eve","_len","args","Array","_key","call","apply","concat","clickToShow","has","clickToHide","onClick","_originChildProps$onC","_len2","_key2","onWindowClick","_ref","target","win","targetRoot","addEventListener","inShadow","ownerDocument","process","env","NODE_ENV","popupRoot","removeEventListener","hoverToShow","hoverToHide","onPopupMouseEnter","onPopupMouseLeave","onMouseMove","_originChildProps$onM","onContextMenu","_originChildProps$onC2","preventDefault","_len3","_key3","mergedChildrenProps","passedProps","passedEventList","forEach","_mergedChildrenProps$","_len4","_key4","triggerNode","cloneElement","createElement","Fragment","disabled","onResize","Provider","value","portal","style","onMouseEnter","onMouseLeave","open","keepDom","motion","align","displayName"],"sources":["C:/Users/Joshua Doros/Desktop/Tezos/tezos-taquito-escrow/node_modules/@rc-component/trigger/es/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"destroyPopupOnHide\", \"popup\", \"popupClassName\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"popupTransitionName\", \"popupAnimation\", \"maskTransitionName\", \"maskAnimation\", \"className\", \"getTriggerDOMNode\"];\nimport Portal from '@rc-component/portal';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { isDOM } from \"rc-util/es/Dom/findDOMNode\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport TriggerContext from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useWatch from \"./hooks/useWatch\";\nimport Popup from \"./Popup\";\nimport TriggerWrapper from \"./TriggerWrapper\";\nimport { getAlignPopupClassName, getMotion, getWin } from \"./util\";\nexport function generateTrigger() {\n  var PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  var Trigger = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-trigger-popup' : _props$prefixCls,\n      children = props.children,\n      _props$action = props.action,\n      action = _props$action === void 0 ? 'hover' : _props$action,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      popupVisible = props.popupVisible,\n      defaultPopupVisible = props.defaultPopupVisible,\n      onPopupVisibleChange = props.onPopupVisibleChange,\n      afterPopupVisibleChange = props.afterPopupVisibleChange,\n      mouseEnterDelay = props.mouseEnterDelay,\n      _props$mouseLeaveDela = props.mouseLeaveDelay,\n      mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n      focusDelay = props.focusDelay,\n      blurDelay = props.blurDelay,\n      mask = props.mask,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n      getPopupContainer = props.getPopupContainer,\n      forceRender = props.forceRender,\n      autoDestroy = props.autoDestroy,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      popup = props.popup,\n      popupClassName = props.popupClassName,\n      popupStyle = props.popupStyle,\n      popupPlacement = props.popupPlacement,\n      _props$builtinPlaceme = props.builtinPlacements,\n      builtinPlacements = _props$builtinPlaceme === void 0 ? {} : _props$builtinPlaceme,\n      popupAlign = props.popupAlign,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      getPopupClassNameFromAlign = props.getPopupClassNameFromAlign,\n      alignPoint = props.alignPoint,\n      onPopupClick = props.onPopupClick,\n      onPopupAlign = props.onPopupAlign,\n      arrow = props.arrow,\n      popupMotion = props.popupMotion,\n      maskMotion = props.maskMotion,\n      popupTransitionName = props.popupTransitionName,\n      popupAnimation = props.popupAnimation,\n      maskTransitionName = props.maskTransitionName,\n      maskAnimation = props.maskAnimation,\n      className = props.className,\n      getTriggerDOMNode = props.getTriggerDOMNode,\n      restProps = _objectWithoutProperties(props, _excluded);\n    var mergedAutoDestroy = autoDestroy || destroyPopupOnHide || false;\n\n    // =========================== Mobile ===========================\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mobile = _React$useState2[0],\n      setMobile = _React$useState2[1];\n    useLayoutEffect(function () {\n      setMobile(isMobile());\n    }, []);\n\n    // ========================== Context ===========================\n    var subPopupElements = React.useRef({});\n    var parentContext = React.useContext(TriggerContext);\n    var context = React.useMemo(function () {\n      return {\n        registerSubPopup: function registerSubPopup(id, subPopupEle) {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // =========================== Popup ============================\n    var id = useId();\n    var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupEle = _React$useState4[0],\n      setPopupEle = _React$useState4[1];\n    var setPopupRef = useEvent(function (node) {\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext === null || parentContext === void 0 ? void 0 : parentContext.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      targetEle = _React$useState6[0],\n      setTargetEle = _React$useState6[1];\n    var setTargetRef = useEvent(function (node) {\n      if (isDOM(node) && targetEle !== node) {\n        setTargetEle(node);\n      }\n    });\n\n    // ========================== Children ==========================\n    var child = React.Children.only(children);\n    var originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n    var cloneProps = {};\n    var inPopupOrChild = useEvent(function (ele) {\n      var _childDOM$getRootNode, _popupEle$getRootNode;\n      var childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || (childDOM === null || childDOM === void 0 ? void 0 : (_childDOM$getRootNode = childDOM.getRootNode()) === null || _childDOM$getRootNode === void 0 ? void 0 : _childDOM$getRootNode.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || (popupEle === null || popupEle === void 0 ? void 0 : (_popupEle$getRootNode = popupEle.getRootNode()) === null || _popupEle$getRootNode === void 0 ? void 0 : _popupEle$getRootNode.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(function (subPopupEle) {\n        return (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle;\n      });\n    });\n\n    // =========================== Motion ===========================\n    var mergePopupMotion = getMotion(prefixCls, popupMotion, popupAnimation, popupTransitionName);\n    var mergeMaskMotion = getMotion(prefixCls, maskMotion, maskAnimation, maskTransitionName);\n\n    // ============================ Open ============================\n    var _React$useState7 = React.useState(defaultPopupVisible || false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      internalOpen = _React$useState8[0],\n      setInternalOpen = _React$useState8[1];\n\n    // Render still use props as first priority\n    var mergedOpen = popupVisible !== null && popupVisible !== void 0 ? popupVisible : internalOpen;\n\n    // We use effect sync here in case `popupVisible` back to `undefined`\n    var setMergedOpen = useEvent(function (nextOpen) {\n      if (popupVisible === undefined) {\n        setInternalOpen(nextOpen);\n      }\n    });\n    useLayoutEffect(function () {\n      setInternalOpen(popupVisible || false);\n    }, [popupVisible]);\n    var openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    var internalTriggerOpen = useEvent(function (nextOpen) {\n      if (mergedOpen !== nextOpen) {\n        setMergedOpen(nextOpen);\n        onPopupVisibleChange === null || onPopupVisibleChange === void 0 ? void 0 : onPopupVisibleChange(nextOpen);\n      }\n    });\n\n    // Trigger for delay\n    var delayRef = React.useRef();\n    var clearDelay = function clearDelay() {\n      clearTimeout(delayRef.current);\n    };\n    var triggerOpen = function triggerOpen(nextOpen) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      clearDelay();\n      if (delay === 0) {\n        internalTriggerOpen(nextOpen);\n      } else {\n        delayRef.current = setTimeout(function () {\n          internalTriggerOpen(nextOpen);\n        }, delay * 1000);\n      }\n    };\n    React.useEffect(function () {\n      return clearDelay;\n    }, []);\n\n    // ========================== Motion ============================\n    var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      inMotion = _React$useState10[0],\n      setInMotion = _React$useState10[1];\n    var mountRef = React.useRef(true);\n    useLayoutEffect(function () {\n      if (!mountRef.current || mergedOpen) {\n        setInMotion(true);\n      }\n      mountRef.current = true;\n    }, [mergedOpen]);\n    var _React$useState11 = React.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      motionPrepareResolve = _React$useState12[0],\n      setMotionPrepareResolve = _React$useState12[1];\n\n    // =========================== Align ============================\n    var _React$useState13 = React.useState([0, 0]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      mousePos = _React$useState14[0],\n      setMousePos = _React$useState14[1];\n    var setMousePosByEvent = function setMousePosByEvent(event) {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    var _useAlign = useAlign(mergedOpen, popupEle, alignPoint ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign),\n      _useAlign2 = _slicedToArray(_useAlign, 9),\n      ready = _useAlign2[0],\n      offsetX = _useAlign2[1],\n      offsetY = _useAlign2[2],\n      arrowX = _useAlign2[3],\n      arrowY = _useAlign2[4],\n      scaleX = _useAlign2[5],\n      scaleY = _useAlign2[6],\n      alignInfo = _useAlign2[7],\n      onAlign = _useAlign2[8];\n    var triggerAlign = useEvent(function () {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign);\n    useLayoutEffect(function () {\n      triggerAlign();\n    }, [mousePos]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(function () {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    var alignedClassName = React.useMemo(function () {\n      var baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return classNames(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n    React.useImperativeHandle(ref, function () {\n      return {\n        forceAlign: triggerAlign\n      };\n    });\n\n    // ========================== Motion ============================\n    var onVisibleChanged = function onVisibleChanged(visible) {\n      setInMotion(false);\n      onAlign();\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 ? void 0 : afterPopupVisibleChange(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    var onPrepare = function onPrepare() {\n      return new Promise(function (resolve) {\n        setMotionPrepareResolve(function () {\n          return resolve;\n        });\n      });\n    };\n    useLayoutEffect(function () {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // ========================== Stretch ===========================\n    var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      targetWidth = _React$useState16[0],\n      setTargetWidth = _React$useState16[1];\n    var _React$useState17 = React.useState(0),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      targetHeight = _React$useState18[0],\n      setTargetHeight = _React$useState18[1];\n    var onTargetResize = function onTargetResize(_, ele) {\n      triggerAlign();\n      if (stretch) {\n        var rect = ele.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n\n    // =========================== Action ===========================\n    var _useAction = useAction(mobile, action, showAction, hideAction),\n      _useAction2 = _slicedToArray(_useAction, 2),\n      showActions = _useAction2[0],\n      hideActions = _useAction2[1];\n\n    // Util wrapper for trigger action\n    var wrapperAction = function wrapperAction(eventName, nextOpen, delay, preEvent) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n        preEvent === null || preEvent === void 0 ? void 0 : preEvent(event);\n        triggerOpen(nextOpen, delay);\n\n        // Pass to origin\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 ? void 0 : _originChildProps$eve.call.apply(_originChildProps$eve, [originChildProps, event].concat(args));\n      };\n    };\n\n    // ======================= Action: Click ========================\n    var clickToShow = showActions.has('click');\n    var clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 ? void 0 : _originChildProps$onC.call.apply(_originChildProps$onC, [originChildProps, event].concat(args));\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    React.useEffect(function () {\n      if (clickToHide && popupEle && (!mask || maskClosable)) {\n        var onWindowClick = function onWindowClick(_ref) {\n          var target = _ref.target;\n          if (openRef.current && !inPopupOrChild(target)) {\n            triggerOpen(false);\n          }\n        };\n        var win = getWin(popupEle);\n        var targetRoot = targetEle === null || targetEle === void 0 ? void 0 : targetEle.getRootNode();\n        win.addEventListener('click', onWindowClick);\n\n        // shadow root\n        var inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;\n        if (inShadow) {\n          targetRoot.addEventListener('click', onWindowClick);\n        }\n\n        // Warning if target and popup not in same root\n        if (process.env.NODE_ENV !== 'production') {\n          var popupRoot = popupEle.getRootNode();\n          warning(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n        }\n        return function () {\n          win.removeEventListener('click', onWindowClick);\n          if (inShadow) {\n            targetRoot.removeEventListener('click', onWindowClick);\n          }\n        };\n      }\n    }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n\n    // ======================= Action: Hover ========================\n    var hoverToShow = showActions.has('hover');\n    var hoverToHide = hideActions.has('hover');\n    var onPopupMouseEnter;\n    var onPopupMouseLeave;\n    if (hoverToShow) {\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n      onPopupMouseEnter = function onPopupMouseEnter() {\n        triggerOpen(true, mouseEnterDelay);\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = function (event) {\n          var _originChildProps$onM;\n          // setMousePosByEvent(event);\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 ? void 0 : _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay);\n      onPopupMouseLeave = function onPopupMouseLeave() {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n        setMousePosByEvent(event);\n        triggerOpen(true);\n        event.preventDefault();\n\n        // Pass to origin\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 ? void 0 : _originChildProps$onC2.call.apply(_originChildProps$onC2, [originChildProps, event].concat(args));\n      };\n    }\n\n    // ========================= ClassName ==========================\n    if (className) {\n      cloneProps.className = classNames(originChildProps.className, className);\n    }\n\n    // =========================== Render ===========================\n    var mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps);\n\n    // Pass props into cloneProps for nest usage\n    var passedProps = {};\n    var passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(function (eventName) {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 ? void 0 : _mergedChildrenProps$.call.apply(_mergedChildrenProps$, [mergedChildrenProps].concat(args));\n          restProps[eventName].apply(restProps, args);\n        };\n      }\n    });\n\n    // Child Node\n    var triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, mergedChildrenProps), passedProps));\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ResizeObserver, {\n      disabled: !mergedOpen,\n      ref: setTargetRef,\n      onResize: onTargetResize\n    }, /*#__PURE__*/React.createElement(TriggerWrapper, {\n      getTriggerDOMNode: getTriggerDOMNode\n    }, triggerNode)), /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: classNames(popupClassName, alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave,\n      zIndex: zIndex\n      // Open\n      ,\n      open: mergedOpen,\n      keepDom: inMotion\n      // Click\n      ,\n      onClick: onPopupClick\n      // Mask\n      ,\n      mask: mask\n      // Motion\n      ,\n      motion: mergePopupMotion,\n      maskMotion: mergeMaskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer\n      // Arrow\n      ,\n      align: alignInfo,\n      arrow: arrow\n      // Align\n      ,\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      arrowX: arrowX,\n      arrowY: arrowY,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);"],"mappings":"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"},"metadata":{},"sourceType":"module"}