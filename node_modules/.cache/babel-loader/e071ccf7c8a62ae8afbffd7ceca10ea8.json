{"ast":null,"code":"const cbs = [_ => undefined];\n/**\n * A mock for postmessage if run in node.js environment\n */\n\nlet windowRef = {\n  postMessage: (message, _target) => {\n    console.log('GOT MOCK POST MESSAGE', message);\n    cbs.forEach(callbackElement => {\n      callbackElement({\n        data: message\n      });\n    });\n  },\n  addEventListener: (_name, eventCallback) => {\n    cbs.push(eventCallback);\n  },\n  removeEventListener: (_name, eventCallback) => {\n    cbs.splice(cbs.indexOf(element => element === eventCallback), 1);\n  },\n  location: {\n    origin: '*'\n  }\n};\n\ntry {\n  if (typeof window !== 'undefined') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    windowRef = window;\n  }\n} catch (windowError) {\n  console.log(`not defined: ${windowError}`);\n}\n\nconst clearMockWindowState = () => {\n  cbs.length = 0;\n};\n\nexport { windowRef, clearMockWindowState };","map":{"version":3,"sources":["../../src/MockWindow.ts"],"names":[],"mappings":"AAEA,MAAM,GAAG,GAAe,CAAE,CAAD,IAAsB,SAAvB,CAAxB;AAEA;;AAEG;;AACH,IAAI,SAAS,GAAG;EACd,WAAW,EAAE,CAAC,OAAD,EAA4C,OAA5C,KAAsE;IACjF,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAqC,OAArC;IACA,GAAG,CAAC,OAAJ,CAAa,eAAD,IAA8B;MACxC,eAAe,CAAC;QAAE,IAAI,EAAE;MAAR,CAAD,CAAf;IACD,CAFD;EAGD,CANa;EAOd,gBAAgB,EAAE,CAAC,KAAD,EAAgB,aAAhB,KAAiD;IACjE,GAAG,CAAC,IAAJ,CAAS,aAAT;EACD,CATa;EAUd,mBAAmB,EAAE,CAAC,KAAD,EAAgB,aAAhB,KAAiD;IACpE,GAAG,CAAC,MAAJ,CACE,GAAG,CAAC,OAAJ,CAAa,OAAD,IAAa,OAAO,KAAK,aAArC,CADF,EAEE,CAFF;EAID,CAfa;EAgBd,QAAQ,EAAE;IACR,MAAM,EAAE;EADA;AAhBI,CAAhB;;AAqBA,IAAI;EACF,IAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;IACjC;IACA,SAAS,GAAG,MAAZ;EACD;AACF,CALD,CAKE,OAAO,WAAP,EAAoB;EACpB,OAAO,CAAC,GAAR,CAAY,gBAAgB,WAAW,EAAvC;AACD;;AAED,MAAM,oBAAoB,GAAe,MAAW;EAClD,GAAG,CAAC,MAAJ,GAAa,CAAb;AACD,CAFD;;AAIA,SAAS,SAAT,EAAoB,oBAApB","sourceRoot":"","sourcesContent":["const cbs = [(_) => undefined];\n/**\n * A mock for postmessage if run in node.js environment\n */\nlet windowRef = {\n    postMessage: (message, _target) => {\n        console.log('GOT MOCK POST MESSAGE', message);\n        cbs.forEach((callbackElement) => {\n            callbackElement({ data: message });\n        });\n    },\n    addEventListener: (_name, eventCallback) => {\n        cbs.push(eventCallback);\n    },\n    removeEventListener: (_name, eventCallback) => {\n        cbs.splice(cbs.indexOf((element) => element === eventCallback), 1);\n    },\n    location: {\n        origin: '*'\n    }\n};\ntry {\n    if (typeof window !== 'undefined') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        windowRef = window;\n    }\n}\ncatch (windowError) {\n    console.log(`not defined: ${windowError}`);\n}\nconst clearMockWindowState = () => {\n    cbs.length = 0;\n};\nexport { windowRef, clearMockWindowState };\n//# sourceMappingURL=MockWindow.js.map"]},"metadata":{},"sourceType":"module"}